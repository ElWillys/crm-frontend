<app-brand-popup *ngIf="modePopup !== 'CLOSED'"
                 [brandId]="modePopup === 'ACTUALIZAR' ? brandSelected?.id ?? 0 : 0"
                 (cerrarPopUpOk)="onClosePopupOk()"
                 (cerrarPopUpCancel)="onClosePopupCancel()">
</app-brand-popup>

<div class="brand-list-container">
  <h2>Lista de Marcas</h2>

  <div>
    <button (click)="createBrandPopup()">Crear Marca</button>
    <button (click)="updateBrandPopup()">Editar Marca</button>
    <button (click)="deleteBrand(brandSelected?.id ?? 0)">Borrar Marca</button>
  </div>

  <div *ngIf="error" class="error">{{ error }}</div>

  <table>
    <thead>
      <tr>
        <th></th>
        <th>ID</th>
        <th>Nombre</th>
      </tr>
    </thead>
    <tbody>
      @for (brand of brands; track brand.id) {
        <tr>
          <td>
            <input type="radio"
                   name="selBrand"
                   [(ngModel)]="brandSelectedId"
                   [value]="brand.id">
          </td>
          <td>{{ brand.id }}</td>
          <td>{{ brand.name }}</td>
        </tr>
      }
    </tbody>
  </table>

  @if (brandSelected) {
    <div>Seleccionado: {{ brandSelected.id }} - {{ brandSelected.name }}</div>
  }
</div>