<header class="app-header">
  <div class="container">

    <button
      class="hamburger"
      (click)="toggleMenu()"
      aria-label="Menú"
      [attr.aria-expanded]="menuOpen"
    >
      <span></span>
      <span></span>
      <span></span>
    </button>

    <h1 class="logo">
      <img src="assets/logogescom2.png" alt="Mi App de Tareas" />
    </h1>

    <div class="header-spacer"></div>

    <nav class="main-nav" [class.open]="menuOpen">
      <ul>
        <li>
          <a routerLink="/home" routerLinkActive="active" (click)="closeMenu()"
            >Inicio</a
          >
        </li>
        <br />
        <li>
          <a routerLink="/tasks" routerLinkActive="active" (click)="closeMenu()"
            >Tareas</a
          >
        </li>
        <br />
        <li>
          <a
            routerLink="/customer"
            routerLinkActive="active"
            (click)="closeMenu()"
            >Clientes</a
          >
        </li>
        <br />
        <li>
          <a
            routerLink="/contact"
            routerLinkActive="active"
            (click)="closeMenu()"
            >Contactos</a
          >
        </li>
        <br />
        <li>
          <a
            routerLink="/appUser"
            routerLinkActive="active"
            (click)="closeMenu()"
            >Usuarios</a
          >
        </li>
        <br />
        <li>
          <a routerLink="/brand" routerLinkActive="active" (click)="closeMenu()"
            >Marcas</a
          >
        </li>
      </ul>
    </nav>


    <div class="overlay" *ngIf="menuOpen" (click)="closeMenu()"></div>

    <div class="overlay" *ngIf="menuOpen" (click)="closeMenu()"></div>


    <div class="user-dropdown" [class.open]="dropdownOpen">
      <button
        mat-icon-button
        (click)="toggleDropdown()"
        aria-haspopup="true"
        [attr.aria-expanded]="dropdownOpen"
        aria-label="Configuración de usuario"
      >
        <mat-icon>person</mat-icon>
      </button>
      <ul class="dropdown-menu" *ngIf="dropdownOpen">
        <li>
          <a (click)="logout()">Logout</a>
        </li>
      </ul>
    </div>

    <div
      class="dropdown-backdrop"
      *ngIf="dropdownOpen"
      (click)="closeDropdown()"
    ></div>

    <div class="overlay" *ngIf="menuOpen" (click)="closeMenu()"></div>

    <div class="user-dropdown" [class.open]="dropdownOpen">
      <button
        class="dropdown-toggle"
        (click)="toggleDropdown()"
        aria-haspopup="true"
        [attr.aria-expanded]="dropdownOpen"
        aria-label="Configuración"
      ></button>
      <ul class="dropdown-menu" *ngIf="dropdownOpen">
        <li>
          <a (click)="gestionUsuarios()">Gestión usuarios</a>
        </li>
        <li>
          <a (click)="logout()">Log out</a>
        </li>
      </ul>
    </div>

    <div
      class="dropdown-backdrop"
      *ngIf="dropdownOpen"
      (click)="closeDropdown()"
    ></div>
  </div>
</header>
