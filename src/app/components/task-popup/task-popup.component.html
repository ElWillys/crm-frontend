<div class="dialog-overlay"></div>
<div class="dialog-box">
  <button class="close-button" (click)="onCancel()" title="Cerrar">×</button>

  <h2>{{ modo === 'CREAR' ? 'Crear Tarea' : 'Editar Tarea' }}</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div *ngIf="error" class="error">{{ error }}</div>

    <label for="title">Título</label>
    <input id="title" type="text" formControlName="title" />

    <label for="description">Descripción</label>
    <textarea id="description" formControlName="description"></textarea>

    <label for="initialDate">Fecha inicial</label>
    <input id="initialDate" type="date" formControlName="initialDate" />

    <label for="endDate">Fecha fin</label>
    <input id="endDate" type="date" formControlName="endDate" />

    <label for="status">Estado</label>
    <select id="status" formControlName="status">
      <option *ngFor="let estado of estados" [value]="estado">{{ estado }}</option>
    </select>

    <label for="userId">Usuario</label>
    <select id="userId" formControlName="userId">
      <option [value]="null">-- Selecciona un usuario --</option>
      <option *ngFor="let u of users" [value]="u.id">
        {{ u.name }}
      </option>
    </select>

   <label for="customerId">Cliente</label>
    <select id="customerId" formControlName="customerId">
      <option value="">-- Selecciona un cliente --</option>
      <option *ngFor="let c of customers" [value]="c.id">
        {{ c.name }}
      </option>
    </select>

    <label for="brandId">Marca</label>
    <select id="brandId" formControlName="brandId">
      <option value="">-- Selecciona una marca --</option>
      <option *ngFor="let b of brands" [value]="b.id">
        {{ b.name }}
      </option>
    </select>

    <div class="popup-buttons">
      <button type="submit">{{ modo === 'CREAR' ? 'Crear' : 'Actualizar' }}</button>
      <button type="button" (click)="onCancel()">Cancelar</button>
    </div>
  </form>
</div>
