<main class="auth-background">
  <div *ngIf="error" class="error-message">
    {{ error }}
  </div>

  <div class="form-container">
    <img src="assets/logogescomSinFrase.png" alt="Logo" class="app-logo" />
    <h2>Registro</h2>
    <hr class="divider" />

    <form #signupForm="ngForm" (ngSubmit)="onSubmit(signupForm)">

      <div class="form-group">
        <label for="name">Nombre:</label>
        <input type="text" id="name" name="name" required [(ngModel)]="user.name" #name="ngModel" />
        <div *ngIf="name.invalid && (name.touched || signupForm.submitted)" class="error-message">
          El nombre es obligatorio.
        </div>
      </div>

      <div class="form-group">
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
          [(ngModel)]="user.email" #email="ngModel" />
        <div *ngIf="email.invalid && (email.touched || signupForm.submitted)" class="error-message">
          Por favor ingrese un correo válido.
        </div>
      </div>

      <div class="form-group">
        <label for="password">Contraseña:</label>
        <input type="password" id="password" name="password" required [(ngModel)]="user.password" #password="ngModel" />
        <div *ngIf="password.invalid && (password.touched || signupForm.submitted)" class="error-message">
          La contraseña es obligatoria.
        </div>
        <div *ngIf="user.password && user.password.length < 6 && (password.touched || signupForm.submitted)"
          class="error-message">
          La contraseña debe tener al menos 6 caracteres.
        </div>
      </div>

      <div class="form-group">
        <label for="confirmPassword">Confirmar Contraseña:</label>
        <input type="password" id="confirmPassword" name="confirmPassword" required [(ngModel)]="confirmPassword"
          #confirmPasswordModel="ngModel" />
        <div *ngIf="confirmPasswordModel.invalid && (confirmPasswordModel.touched || signupForm.submitted)"
          class="error-message">
          Debes confirmar tu contraseña.
        </div>
        <div *ngIf="passwordsDoNotMatch() && (confirmPasswordModel.touched || signupForm.submitted)"
          class="error-message">
          Las contraseñas no coinciden.
        </div>
      </div>

      <div class="button-row">
        <button type="submit" class="btn-primary">Registrarse</button>
      </div>

      <div class="cuenta-text">¿Ya tienes cuenta?</div>
      <div class="button-row">
        <a href="/login" class="btn-link">Iniciar Sesión</a>
      </div>

    </form>
  </div>
</main>